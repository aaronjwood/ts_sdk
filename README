This repository contains a reference implementation of firmware for use
with the ThinkSpace (Dakota) IoT services.  The firmware is intended for  use
on a microcontroller (MCU) connected to an LTE modem.  It supports communication
using:
	o "Over the Top" (OTT) protocol (carried via TLS protected TCP/IP)
	o SMSNAS protocol

The current target hardware is a NUCLEO-F429ZI ARM development board connected
to a u-blox TOBY-201 modem.

For more information see:

	http://confluence.verizon.com/display/KSIPROD/Reference+Firmware+for+Over-The-Top+IoT+Connectivity


Repository contents:

	tools/scripts   - Toolchain build scripts
	tools/installed - Directory to hold toolchain, device support files,
                          SDK libraries, etc. that are installed from an
                          external source.

	apps/           - Sample applications built to communicate with the
                          ThingSpace services.
			  This directory also includes some test programs
			  intended to test individual library components.

	doxygen/        - Config files for generating documentation for the
			  primary APIs.

	lib/            - Library components used by the apps to communicate
                          with the services (e.g. cloud communication API,
                          protocols, modem support, hardware support etc.)

	include/        - Header files that define the external interfaces
                          to the lib components.

	vendor/         - Third-party libraries needed to build lib/ or apps/
                          components.
	      /mbedtls  - ARM mbed TLS library.

        *.mk		- Common Makefiles.  Each application has a specific
			  Makefile that uses these common files to build
			  the application and all necessary library files.

Notes on configuring mbed TLS:
-----------------------------
There is a script added to vendor/mbedtls: vz_configure_mbedtls
It is intended to capture the changes needed to customize mbed TLS to the
minimum set of features that will allow the sample applications to communicate
with the Verizon cloud services.

The script will edit:
	vendor/mbedtls/include/mbedtls/config.h.original

to produce the desired configuration in:
	vendor/mbedtls/include/mbedtls/config.h

That version of config.h is checked into the repository.

The script currently has options to enable/disable certain library features, 
which allows the library to be customized for test/experimental purposes:

$ ./vz_configure_mbedtls help
Usage: 
    vz_configure_mbedtls [help] [debug] [no-net] [full-msgs] [no-hwrng]

debug     - will enable debug messages in the library, especially for TLS
	    errors. Makes the code much bigger but otherwise it's hard to
	    tell why something fails.

no-net    - disables the mbed TLS OS networking module. Set this when building 
	    for the "network over modem" library.
            

full-msgs - support full-sized TLS messages as defined in the RFC.
	    (by default we know that the largest OTT message is much smaller).

no-hwrng -  Disable using the device hardware random number generator.
            Set this to use the Linux/OSX /dev/random sources instead.

heap-prof - Use a custom allocator to record maximum heap used.

To build the mbedtls_test program to run on OSX (i.e. by setting
BUILD_TARGET = osx in mbedtls_test/Makefile), you need to configure the library
as:

	./vz_configure_mbedtls full-msgs no-hwrng
